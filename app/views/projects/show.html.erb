<h1>Show Project</h1>
<div class="project_list">
  <div><%= @project.name %></div>
  <div><%= @project.description %></div>
  <div><%= @project.funding_goal %></div>
  <div><%= @project.end_date %></div> 
  <div><%= number_to_currency @project.total_pledged %></div>

   <div><%= link_to "Back", projects_path %>
  <div> <%= link_to "Edit" , edit_project_url(@project) %></div>
  <div> <%= link_to "Delete" , @project, method: :delete, data: {confirm:"Are you sure?"}%></div>

  <!--removed alligator example of nested
   link_to "Edit" , edit_restaurant_reservation_url(@restaurant, reservation) 
   < link_to "Delete", @restaurant, :class =>"inner_back_btns", method: :delete, data: {confirm:"Are you sure?"} >-->

</div>  




<!-- The code below is equivalent. Need to add alligator tags -->
<%= render @project.rewards %>


<!-- render partial: "rewards/reward", collection: @project.rewards -->


<!--  @project.rewards.each do |reward| 
   render partial: 'rewards/reward', locals: {reward: reward} 
 end 
 -->

 <% if current_user %>
  <h4>New Review</h4>
  <%= form_for([@project, @review]) do |f| %>
    <% if @review.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(@review.errors.count, "error") %> prohibited this review from being saved: </h2>
        <ul>
          <% @review.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <%end%>
        </ul>
      </div>
    <%end%>

    <div class="field">
    <%= f.label :comment %><br/>
    <%= f.text_area :comment %>      
    </div>
    <div class="actions">
      <%= f.submit %>
    </div>
  <%end%>

  <%else%>
    <p>Please <%= link_to "log in", new_session_path %> to add a review.</p>
<%end%>

<h3>Reviews</h3>

<p>Reviews for <%= @project.name %></p>

<% @project.reviews.each do |review| %>
  <p>
    <%= review.comment %>
    <br>
    <% if review.user != nil %>
      <em>
        by <%= review.user.email %>
      </em>
      Added on: <%= review.created_at %>
    <%end%>
  </p>
<%end%>